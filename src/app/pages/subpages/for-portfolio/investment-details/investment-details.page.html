<ion-content class="page-content">
  <div class="back-button" [routerLink]="fromPage" routerDirection="back">
    <ion-icon src="assets/icon/arrow-back.svg"></ion-icon>
  </div>
  <h2 class="subpage-heading">{{ sub.subscription.name }}</h2>
  
  <div class="summary">
    <p>Balance</p>
    <h2>${{ util.numberWithCommas(addInvBalances(sub)) }}</h2>
    <ion-icon src="assets/icon/inv-withdraw.svg" (click)="goToPage('/deposit')"></ion-icon>
    <ion-icon src="assets/icon/inv-deposit.svg" (click)="goToPage('/withdrawal')"></ion-icon>
  </div>

  <ion-row class="invest-tabs ion-text-center">
    <ion-col  [ngClass]="tab.active ? 'active' : ''" size="4" (click)="switchTab(tab)" *ngFor="let tab of tabs">{{ tab.name }}</ion-col>
  </ion-row>


  <div *ngIf="selectedTab?.name === 'History'">
    <p class="account-history">Account History <span>View All</span></p>
    <div class="history-list">
      <div class="history" *ngFor="let hist of histories | slice:0:6">
        <ion-icon [src]="'assets/icon/history/'+getIconForType(hist.type)+'.svg'"></ion-icon>
        <h4>
          {{ hist.type | capitalize }} 
          <span class="{{ hist.type }}">
            ${{ util.numberWithCommas(hist.amount) }}
          </span>
        </h4>
        <p>{{ hist.date }}<span *ngIf="hist.type === 'profit'">{{ hist.percentage || 0}}%</span></p>
      </div>
    </div>

    <div class="tt-skeletons" *ngIf="!histories">
      <ion-item *ngFor="let f of [1,2,3,4,5,6]">
        <ion-avatar slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-avatar>
        <ion-label>
          <h3>
            <ion-skeleton-text class="left" animated style="width: 25%"></ion-skeleton-text>
            <ion-skeleton-text class="right" animated style="width: 15%"></ion-skeleton-text>
          </h3>
        </ion-label>
      </ion-item>
    </div>

    <p class="no-histories" *ngIf="histories && histories?.length <= 0">No history available...</p>
  </div>

  <div class="statistics" *ngIf="selectedTab?.name === 'Statistics'">
    <div class="totals">
      <p>Investment <span>Profit</span></p>
      <h5>${{ sub.balance }} <span>${{ sub.profit_balance }}</span></h5>
    </div>
  </div>

  <div class="about" *ngIf="selectedTab?.name === 'About'">
    <div class="item">
       <ion-icon src="assets/icon/check-circle.svg"></ion-icon>
       {{ sub.subscription.description }}
    </div>
    <div class="item">
       <ion-icon src="assets/icon/check-circle.svg"></ion-icon>
      Minimum investment: ${{ sub.subscription.desc_minimum_investment }}
    </div>
    <div class="item">
       <ion-icon src="assets/icon/check-circle.svg"></ion-icon>
       {{ sub.subscription.desc_commission }}
    </div>
    <div class="item">
       <ion-icon src="assets/icon/check-circle.svg"></ion-icon>
       {{ sub.subscription.desc_comment }}
    </div>
  </div>

  
</ion-content>


